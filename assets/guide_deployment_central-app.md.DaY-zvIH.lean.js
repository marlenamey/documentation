import{_ as a,c as i,a0 as e,o as t}from"./chunks/framework.BGabeMLJ.js";const g=JSON.parse('{"title":"App","description":"","frontmatter":{},"headers":[],"relativePath":"guide/deployment/central-app.md","filePath":"guide/deployment/central-app.md"}'),n={name:"guide/deployment/central-app.md"};function p(l,s,h,o,d,r){return t(),i("div",null,s[0]||(s[0]=[e(`<h1 id="app" tabindex="-1">App <a class="header-anchor" href="#app" aria-label="Permalink to &quot;App&quot;">â€‹</a></h1><p>The central app contains the following services:</p><ul><li>user-interface,</li><li>api (authorization- &amp; resource-server)</li><li>realtime-server</li><li>train-manager</li><li>...</li></ul><p>Those are managed in a mono-repository on GitHUb. Contributions are very welcome and be performed by following the guideline of the README in the repository.</p><div class="info custom-block"><p class="custom-block-title">Info</p><p>Assure yourself that you are not using <code>dash</code> as default shell. Therefore, run the command <code>dpkg-reconfigure dash</code> to make the adjustment if necessary.</p></div><h2 id="installation" tabindex="-1">Installation <a class="header-anchor" href="#installation" aria-label="Permalink to &quot;Installation&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://github.com/PHT-Medic/central-deployment</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> central-deployment</span></span></code></pre></div><h2 id="configuration" tabindex="-1">Configuration <a class="header-anchor" href="#configuration" aria-label="Permalink to &quot;Configuration&quot;">â€‹</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./env.sh</span></span></code></pre></div><p>This command will create environment files in the following directories:</p><ul><li>config/.env</li><li>config/api/.env</li><li>config/realtime/.env</li><li>config/third-party/authup/.env</li><li>config/train-manager/.env</li><li>config/ui/.env</li></ul><p>Change the values to your needs.</p><div class="warning custom-block"><p class="custom-block-title">Info</p><p>Don&#39;t forget to replace the placeholders with the actual values:</p><ul><li><code>[APP_URL]</code>: Web address (e.g. <a href="https://app.example.com/" target="_blank" rel="noreferrer">https://app.example.com/</a>)</li><li><code>[APP_API_URL]</code>: Web address (e.g. <a href="https://app.example.com/api/" target="_blank" rel="noreferrer">https://app.example.com/api/</a>)</li><li><code>[AUTHUP_API_URL]</code>: Web address of the authup service (e.g. <a href="https://app.example.com/auth/" target="_blank" rel="noreferrer">https://app.example.com/auth/</a>)</li></ul></div><p>The following values need to be adjusted before running the setup script!</p><p><strong><code>config/api/.env</code></strong></p><div class="language-dotenv vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dotenv</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[API_URL]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">APP_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[APP_URL]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AUTHUP_API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[AUTHUP_API_URL]</span></span></code></pre></div><p><strong><code>config/realtime/.env</code></strong></p><div class="language-dotenv vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dotenv</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AUTHUP_API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[AUTHUP_API_URL]</span></span></code></pre></div><p><strong><code>config/third-party/authup/.env</code></strong></p><div class="language-dotenv vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dotenv</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AUTHORIZE_REDIRECT_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[APP_URL]</span></span></code></pre></div><p><strong><code>config/train-manager/.env</code></strong></p><div class="language-dotenv vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dotenv</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[API_URL]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AUTHUP_API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[AUTHUP_API_URL]</span></span></code></pre></div><p><strong><code>config/ui/.env</code></strong></p><div class="language-dotenv vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">dotenv</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[API_URL]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">APP_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[APP_URL]</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">AUTHUP_API_URL</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[AUTHUP_API_URL]</span></span></code></pre></div><h2 id="setup" tabindex="-1">Setup <a class="header-anchor" href="#setup" aria-label="Permalink to &quot;Setup&quot;">â€‹</a></h2><p>To set up everything just run the following command:</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ ./setup.sh</span></span></code></pre></div><p>This will download the docker image and run initial project setup ðŸ”¥.</p><h2 id="usage" tabindex="-1">Usage <a class="header-anchor" href="#usage" aria-label="Permalink to &quot;Usage&quot;">â€‹</a></h2><p>Start ðŸ›«</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ ./third-party.sh start</span></span>
<span class="line"><span>$ ./start.sh</span></span></code></pre></div><p>Stop ðŸ›¬</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ ./third-party.sh stop</span></span>
<span class="line"><span>$ ./stop.sh</span></span></code></pre></div><p>Reset ðŸª‚</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>$ ./reset.sh</span></span></code></pre></div>`,35)]))}const k=a(n,[["render",p]]);export{g as __pageData,k as default};
