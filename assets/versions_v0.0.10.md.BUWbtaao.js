import{_ as a,c as s,a0 as t,o as i}from"./chunks/framework.BGabeMLJ.js";const c=JSON.parse('{"title":"Upgrading to v0.0.10","description":"","frontmatter":{},"headers":[],"relativePath":"versions/v0.0.10.md","filePath":"versions/v0.0.10.md"}'),o={name:"versions/v0.0.10.md"};function n(l,e,r,h,d,u){return i(),s("div",null,e[0]||(e[0]=[t('<h1 id="upgrading-to-v0-0-10" tabindex="-1">Upgrading to v0.0.10 <a class="header-anchor" href="#upgrading-to-v0-0-10" aria-label="Permalink to &quot;Upgrading to v0.0.10&quot;">​</a></h1><blockquote><p>This release contains breaking changes for the <code>flame/flame-node</code> helm chart</p></blockquote><h2 id="node" tabindex="-1">Node <a class="header-anchor" href="#node" aria-label="Permalink to &quot;Node&quot;">​</a></h2><h3 id="helm-breaking-changes" tabindex="-1">Helm - Breaking Changes! <a class="header-anchor" href="#helm-breaking-changes" aria-label="Permalink to &quot;Helm - Breaking Changes!&quot;">​</a></h3><p>Some of the template files had a dynamic value set in the selector labels causing <code>helm upgrade</code> to fail. This was fixed, but in order to upgrade, affected k8s resources must first be deleted to recreate the labels using the following command:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> delete</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/flame-node-node-ui-deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/flame-node-hub-adapter-deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/flame-node-node-result-deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/flame-node-node-message-broker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> deploy/flame-node-po</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-node-ui-service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-hub-adapter-service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-node-result-service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-node-message-broker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-po-service</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-keycloak-headless</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> svc/flame-node-keycloak-http</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ing/flame-node-node-ui-ingress</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ing/flame-node-hub-adapter-ingress</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ing/flame-node-keycloak</span></span></code></pre></div><p>and then perform the upgrade:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">helm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">node-instance-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">modified-values.ym</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> flame/flame-node</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --version</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.0.10</span></span></code></pre></div><h4 id="values" tabindex="-1">Values <a class="header-anchor" href="#values" aria-label="Permalink to &quot;Values&quot;">​</a></h4><p>The <code>headless</code> value was renamed to <code>autostart</code> for clarity</p><h3 id="ui" tabindex="-1">UI <a class="header-anchor" href="#ui" aria-label="Permalink to &quot;UI&quot;">​</a></h3><h4 id="autostart" tabindex="-1">Autostart <a class="header-anchor" href="#autostart" aria-label="Permalink to &quot;Autostart&quot;">​</a></h4><p><strong>All</strong> deNBI nodes are now configured to start new analyses automatically if the following criteria are met:</p><ul><li>The image build status is set to <code>finished</code></li><li>Both the project and analysis are <code>approved</code></li><li>Analysis was created on the hub within the last 24 hours</li><li>A datastore exists for the project on the node (not required on aggregator nodes)</li></ul><h4 id="s3-datastore" tabindex="-1">S3 Datastore <a class="header-anchor" href="#s3-datastore" aria-label="Permalink to &quot;S3 Datastore&quot;">​</a></h4><h5 id="bucket-name" tabindex="-1">Bucket Name <a class="header-anchor" href="#bucket-name" aria-label="Permalink to &quot;Bucket Name&quot;">​</a></h5><p>The datastore creation tool was updated for S3 to improve clarity. Instead of &quot;Path Name&quot;, you will now see &quot;Bucket Name&quot; and users no longer have to include a &quot;/&quot; in front of the bucket name (if you do, it&#39;s OK, the software can handle it).</p><h5 id="bucket-access-upcoming-feauture" tabindex="-1">Bucket Access (upcoming feauture) <a class="header-anchor" href="#bucket-access-upcoming-feauture" aria-label="Permalink to &quot;Bucket Access (upcoming feauture)&quot;">​</a></h5><p>There is a new field called &quot;Bucket Access&quot; that you will see if you select S3 which is a toggle between &quot;Private&quot; and &quot;Public&quot; buckets. This is currently disabled as the feature is still in development, but soon you will be able to create datastores with private buckets using the secret and access keys from your MinIO instance.</p><h4 id="analysis-table" tabindex="-1">Analysis Table <a class="header-anchor" href="#analysis-table" aria-label="Permalink to &quot;Analysis Table&quot;">​</a></h4><p>Several small updates were made to the analyses table:</p><ul><li>The &quot;Created On&quot; and &quot;Last Updated&quot; columns now show minutes/days ago if it was within the last week instead of just the date</li><li>A progress bar now shows if an analysis is failed/not running (empty), running (moving white bar), or complete (100% green bar). In a future update, analyses that include progress updates using the SDK will show those updates using this bar</li><li>Unless the analysis is marked as &quot;failed&quot; or &quot;finished&quot;, the &quot;Run Status&quot; column will only show the status of an analysis if it reported by the local Pod Orchestrator. Previously, it relied on what was last reported to the Hub, but since that information was not always accurate, it now gets the current status directly from the local node</li><li>Sessions now properly refresh using the refresh token instead of prompting the user to login to the IDP again</li></ul><h4 id="logs" tabindex="-1">Logs <a class="header-anchor" href="#logs" aria-label="Permalink to &quot;Logs&quot;">​</a></h4><p>Log windows for analyses now have a &quot;Copy to clipboard&quot; and &quot;Download&quot; buttons and the the refresh toggle is enabled by default if an analysis is &quot;running&quot;.</p><h3 id="backend" tabindex="-1">Backend <a class="header-anchor" href="#backend" aria-label="Permalink to &quot;Backend&quot;">​</a></h3><p>Several fixes were applied to improve stability, with a focus on improving analysis startup routine.</p>',26)]))}const k=a(o,[["render",n]]);export{c as __pageData,k as default};
