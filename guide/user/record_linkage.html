<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Privacy-Preserving Record Linkage (PPRL) | PrivateAim</title>
    <meta name="description" content="A VitePress site">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.Bp37EXJw.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.BZumy9-r.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.D0WdeCF1.js">
    <link rel="modulepreload" href="/assets/chunks/framework.BGabeMLJ.js">
    <link rel="modulepreload" href="/assets/guide_user_record_linkage.md.CYworj3W.lean.js">
    <link rel="icon" href="/images/icon/favicon.ico">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5d98c3a5><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5d98c3a5 data-v-ae24b3ad><div class="VPNavBar" data-v-ae24b3ad data-v-6aa21345><div class="wrapper" data-v-6aa21345><div class="container" data-v-6aa21345><div class="title" data-v-6aa21345><div class="VPNavBarTitle has-sidebar" data-v-6aa21345 data-v-1168a8e4><a class="title" href="/" data-v-1168a8e4><!--[--><!--]--><!--[--><!--[--><!--[--><img class="VPImage dark logo" src="/images/icon/icon_flame_light.png" alt data-v-8426fc1a><!--]--><!--[--><img class="VPImage light logo" src="/images/icon/icon_flame_dark.png" alt data-v-8426fc1a><!--]--><!--]--><!--]--><!----><!--[--><!--]--></a></div></div><div class="content" data-v-6aa21345><div class="content-body" data-v-6aa21345><!--[--><!--]--><div class="VPNavBarSearch search" data-v-6aa21345><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6aa21345 data-v-dc692963><span id="main-nav-aria-label" class="visually-hidden" data-v-dc692963> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/getting-started.html" tabindex="0" data-v-dc692963 data-v-e56f3d57><!--[--><span data-v-e56f3d57>Getting Started</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>Docs</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/guide/user.html" data-v-35975db6><!--[--><span data-v-35975db6>User</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/guide/admin.html" data-v-35975db6><!--[--><span data-v-35975db6>Admin</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/guide/deployment.html" data-v-35975db6><!--[--><span data-v-35975db6>Deployment</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-dc692963 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-cf11d7a2><span class="text" data-v-cf11d7a2><!----><span data-v-cf11d7a2>About</span><span class="vpi-chevron-down text-icon" data-v-cf11d7a2></span></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><div class="items" data-v-b98bc113><!--[--><!--[--><div class="VPMenuLink" data-v-b98bc113 data-v-35975db6><a class="VPLink link" href="/about/team.html" data-v-35975db6><!--[--><span data-v-35975db6>Team</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6aa21345 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6aa21345 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/PrivateAim" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/yCTX7ePnhb" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6aa21345 data-v-bb2aa2f0 data-v-cf11d7a2><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-cf11d7a2><span class="vpi-more-horizontal icon" data-v-cf11d7a2></span></button><div class="menu" data-v-cf11d7a2><div class="VPMenu" data-v-cf11d7a2 data-v-b98bc113><!----><!--[--><!--[--><!----><div class="group" data-v-bb2aa2f0><div class="item appearance" data-v-bb2aa2f0><p class="label" data-v-bb2aa2f0>Appearance</p><div class="appearance-action" data-v-bb2aa2f0><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bb2aa2f0 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-bb2aa2f0><div class="item social-links" data-v-bb2aa2f0><div class="VPSocialLinks social-links-list" data-v-bb2aa2f0 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/PrivateAim" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://discord.gg/yCTX7ePnhb" aria-label="discord" target="_blank" rel="noopener" data-v-7bc22406 data-v-bd121fe5><span class="vpi-social-discord"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6aa21345 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-6aa21345><div class="divider-line" data-v-6aa21345></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-5d98c3a5 data-v-a6f0e41e><div class="container" data-v-a6f0e41e><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-a6f0e41e><span class="vpi-align-left menu-icon" data-v-a6f0e41e></span><span class="menu-text" data-v-a6f0e41e>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-a6f0e41e data-v-17a5e62e><button data-v-17a5e62e>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-5d98c3a5 data-v-319d5ca6><div class="curtain" data-v-319d5ca6></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-319d5ca6><span class="visually-hidden" id="sidebar-aria-label" data-v-319d5ca6> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Getting Started</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/getting-started/" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Introduction</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/getting-started/architecture.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Architecture</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/getting-started/components.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Components</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/getting-started/guides.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Guides</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/getting-started/glossar.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Glossar</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0 has-active" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>User</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/sdk-core-doc.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Python Core SDK</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed has-active" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Concepts/Tutorials</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><section class="VPSidebarItem level-2 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h4 class="text" data-v-b7550ba0>Examples</h4><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/analysis-coding.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Analysis Coding</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/survival-regression.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Aggregation with fedstats</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-3 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/federated-logistic-regression.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Federated GLM</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/record_linkage.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>PPRL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/vcf-qc.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Basic VCF QC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/cli-fastqc.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>CLI Tools FastQC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/fhir-query.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>FHIR Queries</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Using the Hub</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/project.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Submitting a Project Proposal</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/user/analysis.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Starting an Analysis</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Admin</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Quick Start</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/reviewing.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Reviewing</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Hub</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/realms.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Realms</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/identity-providers.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Identity Providers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/robots.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Robots</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/users.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Users</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/roles.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Roles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/permissions.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Permissions</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/node-management.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Nodes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/project-review.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Project Review</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/analysis-review.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Analysis Review</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Node</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/bucket-setup-for-data-store.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Bucket Setup for Data Store</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/data-store-management.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Data Store Management</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/analysis-execution.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Analysis Execution</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/keycloak-access-control.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Keycloak & Access Control</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/admin/analysis-definition.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Analysis Definition in k8s</p><!--]--></a><!----></div><!----></div><!--]--></div></section><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Deployment</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/deployment/node-registration.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>Registering in the Hub</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 collapsible collapsed" data-v-b7550ba0 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h3 class="text" data-v-b7550ba0>Installing k8s</h3><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-b7550ba0><span class="vpi-chevron-right caret-icon" data-v-b7550ba0></span></div></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/deployment/microk8s-quickstart.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>microk8s</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/deployment/minikube-quickstart.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>minikube</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/guide/deployment/node-installation.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>FLAME Node Deployment</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-c40bc020><section class="VPSidebarItem level-0" data-v-c40bc020 data-v-b7550ba0><div class="item" role="button" tabindex="0" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><h2 class="text" data-v-b7550ba0>Versions</h2><!----></div><div class="items" data-v-b7550ba0><!--[--><div class="VPSidebarItem level-1 is-link" data-v-b7550ba0 data-v-b7550ba0><div class="item" data-v-b7550ba0><div class="indicator" data-v-b7550ba0></div><a class="VPLink link link" href="/versions/v0.0.10.html" data-v-b7550ba0><!--[--><p class="text" data-v-b7550ba0>0.0.10</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5d98c3a5 data-v-1428d186><div class="VPDoc has-sidebar has-aside" data-v-1428d186 data-v-39a288b8><!--[--><!--]--><div class="container" data-v-39a288b8><div class="aside" data-v-39a288b8><div class="aside-curtain" data-v-39a288b8></div><div class="aside-container" data-v-39a288b8><div class="aside-content" data-v-39a288b8><div class="VPDocAside" data-v-39a288b8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-a5bbad30><div class="content" data-v-a5bbad30><div class="outline-marker" data-v-a5bbad30></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-a5bbad30>On this page</div><ul class="VPDocOutlineItem root" data-v-a5bbad30 data-v-b933a997><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-39a288b8><div class="content-container" data-v-39a288b8><!--[--><!--]--><main class="main" data-v-39a288b8><div style="position:relative;" class="vp-doc _guide_user_record_linkage" data-v-39a288b8><div><h1 id="privacy-preserving-record-linkage-pprl" tabindex="-1">Privacy-Preserving Record Linkage (PPRL) <a class="header-anchor" href="#privacy-preserving-record-linkage-pprl" aria-label="Permalink to &quot;Privacy-Preserving Record Linkage (PPRL)&quot;">​</a></h1><div class="warning custom-block"><p class="custom-block-title">Info</p><p>This tutorial shows how to run a privacy-preserving record linkage analysis in <strong>FLAME</strong> using the provided <a href="/files/record_linkage_intersection.py" download>record-linkage.py</a> script. It reuses the generic concepts from the guides on <a href="/guide/user/analysis-coding.html">Coding an Analysis</a> and the <a href="/guide/user/sdk-core-doc.html">Core SDK</a>. For hub usage basics see <a href="/guide/user/analysis.html">Starting an Analysis</a>.</p><p>This example is an MVP-level record linkage.</p></div><div class="info custom-block"><p class="custom-block-title">Download</p><p>Download the full reference script: <a href="/files/record_linkage_intersection.py" download>record_linkage.py</a></p></div><h2 id="goal" tabindex="-1">Goal <a class="header-anchor" href="#goal" aria-label="Permalink to &quot;Goal&quot;">​</a></h2><p>This tutorial demonstrates how to perform a multi-centric record linkage analysis using Python, a user-adapted configuration TOML file, and a streamlined version of the Mainzelliste pseudonymization, identity management, and record linkage system. The streamlined version of Mainzelliste, implemented in Rust, provides high performance, robustness, and a compact runtime footprint, making it suitable for distributed data processing across multiple institutions or nodes.</p><p>Record linkage is the process of identifying records that correspond to the same individual across different datasets. In multi-centric settings, this must be done without sharing sensitive personal data between sites. Mainzelliste achieves this through privacy-preserving algorithms: identifying information is encoded using Bloom filters, and original identifiers are replaced by pseudonyms, ensuring that sensitive data is never directly exchanged.</p><p>In this tutorial, you will learn how to detect records belonging to the same individual across CSV files stored in an S3/MinIO bucket, spanning multiple participating nodes. The analysis is static, meaning it is performed automatically at the start of a project, provided the feature is enabled. The result is an aggregated JSON report, summarizing intersections between all nodes as well as pairwise comparisons, allowing analysts to understand which records match across sites without exposing raw personal data.</p><p>While this example focuses on CSV files, the workflow and concepts are applicable to a wide range of distributed, privacy-preserving data analysis tasks, including healthcare data stored in FHIR servers or relational databases. This tutorial also illustrates how to configure the analysis using a TOML file, handle pseudonymized identifiers, and aggregate results from multiple nodes, providing a foundation for scalable, secure, and privacy-conscious record linkage.</p><h2 id="analysis-workflow" tabindex="-1">Analysis Workflow <a class="header-anchor" href="#analysis-workflow" aria-label="Permalink to &quot;Analysis Workflow&quot;">​</a></h2><p>The general workflow of the record linkage analysis is as follows:</p><ul><li>The aggregator node generates configuration files (including the salt value for later Bloom filter generation) for all analyzer nodes and distributes them.</li><li>Each analyzer node starts Mainzelliste with the configuration, retrieves patient data from its S3 datastore, and processes it into Bloom filters using the salt value. Each analyzer node then sends its ID and the Bloom filters back to the aggregator node.</li><li>The aggregator node receives the Bloom filters from all analyzer nodes and performs record linkage by adding them to Mainzelliste. Identical patients are assigned the same pseudonyms. The aggregator node then computes the pairwise intersections and the number of patients shared across sites. This information is collected in a JSON list and made available for download in the hub. Additionally, the aggregator node informs the respective analyzer nodes about which of their patients are duplicates, enabling this information to be used in future analyses.</li></ul><h2 id="prerequisites" tabindex="-1">Prerequisites <a class="header-anchor" href="#prerequisites" aria-label="Permalink to &quot;Prerequisites&quot;">​</a></h2><ul><li>A project (proposal) with at least one analyzer node and one aggregator node approved (see <a href="/guide/user/project.html">Project Guide</a>).</li><li>The <strong>record-linkage</strong> master image available (contains <code>mainzelliste</code>).</li><li>MinIO (S3) datastores configured on each participating node. See admin docs for bucket setup: <a href="/guide/admin/bucket-setup-for-data-store.html">Bucket Setup</a> &amp; <a href="/guide/admin/data-store-management.html">Data Store Management</a>.</li></ul><h3 id="python-analysis-script" tabindex="-1">Python Analysis Script <a class="header-anchor" href="#python-analysis-script" aria-label="Permalink to &quot;Python Analysis Script&quot;">​</a></h3><p>The script (<a href="/files/record_linkage_intersection.py" download>record_linkage.py</a>) defines:</p><ol><li><p><code>RLAnalyzer</code> (runs on each analyzer node)</p><ul><li><strong><code>__init__()</code></strong>: Initializes the analyzer node.</li><li><strong><code>analysis_method()</code></strong>: Executes the main analysis workflow, consisting of multiple steps: <ul><li><strong>Initialize PostgreSQL</strong> – Prerequisite for Mainzelliste (using <code>run_as_postgres()</code>, <code>init_db()</code>, <code>start_postgres()</code>, <code>create_user_and_db()</code>).</li><li><strong>Start Mainzelliste</strong> – Provides pseudonymization services and performs Bloom filter calculations. <ul><li><code>wait_for_mainzelliste()</code>: Polls the Mainzelliste health check, attempting to establish a connection until the timeout is reached.</li></ul></li><li><strong>Process patients from CSV</strong> – Iterates over all patients in the project’s S3 datastore. <ul><li><code>add_patients()</code>: Adds patients to Mainzelliste from CSV (using <code>create_session_and_token()</code> to start a session and <code>get_new_pseudonyms()</code> to obtain pseudonyms).</li><li><code>get_bloomfilters()</code>: Retrieves Bloom filters from Mainzelliste for record linkage.</li></ul></li><li><strong>Cleanup</strong> – Cleanly shuts down services. <ul><li><code>cleanup()</code>: Stops PostgreSQL (via <code>stop_postgres()</code>).</li></ul></li><li><strong>Multi-stage processing</strong> – Analysis is performed in up to three iterations (stages 0–2).</li></ul></li></ul></li><li><p><code>RLAggregator</code> (runs on the aggregator node)</p><ul><li><strong><code>__init__()</code></strong>: Initializes the aggregator node, initializes PostgresSQL and starts Mainzelliste. <ul><li><strong>Generates configurations</strong> - Generates configurations for analyzers and aggregator (using <code>create_config_nodes()</code>, <code>create_config_aggregator()</code>).</li><li><strong>Initialize PostgreSQL</strong> – Prerequisite for Mainzelliste (using <code>run_as_postgres()</code>, <code>init_db()</code>, <code>start_postgres()</code>, <code>create_user_and_db()</code>).</li><li><strong>Start Mainzelliste</strong> – Provides pseudonymization services and performs Bloom filter calculations.</li></ul></li><li><strong><code>aggregation_method()</code></strong>: Executes matching logic, collects, and distributes results, consisting of multiple steps: <ul><li>Return configuration to analyzer nodes.</li><li>Gather Bloom filter results from all analyzers.</li><li><code>wait_for_mainzelliste()</code>: Polls the Mainzelliste health check, attempting to establish a connection until the timeout is reached.</li><li><strong>Identify duplicates</strong> – Perform record linkage with Bloom filters: iterates over all Bloom filters of all analyzer nodes and adds them to Mainzelliste. <ul><li>Matching Patients get same pseudonyms.</li></ul></li><li><strong>Compute intersections</strong> - Computes global and pairwise duplicates: calculates intersection of all nodes based on pseudonyms (using <code>all_nodes_intersect()</code>).</li><li>Return results to analyzers and hub.</li><li><code>stop_postgres()</code>: Stops PostgreSQL.</li></ul></li></ul></li></ol><h3 id="toml-configuration-file" tabindex="-1">TOML Configuration File <a class="header-anchor" href="#toml-configuration-file" aria-label="Permalink to &quot;TOML Configuration File&quot;">​</a></h3><p>Additionally to the Python analysis script, the analyst must provide a project-specific <code>config.toml</code> file.</p><p>The configuration file specifies the <code>data fields</code> on which record linkage should be performed. Therefore, the analyst must be familiar with the project’s data and assess whether it is suitable for record linkage.</p><p>If no such file is provided, the script falls back to a built-in default configuration, which may not be compatible with the project’s data fields and could therefore cause the analysis to fail.</p><p>The <code>config.toml</code> file below indicates the fields that the analyst should customize for the project.</p><div class="language-toml vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">toml</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">patient_settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vorname = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;String&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nachname = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;String&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtstag = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Integer&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtsmonat = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Integer&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtsjahr = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Integer&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ort = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;String&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plz = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Integer&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matcher_frequency</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vorname = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.000235</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nachname = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0000271</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtstag = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0333</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtsmonat = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0833</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtsjahr = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.0286</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ort = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plz = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">matcher_error_rate</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vorname = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.01</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nachname = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.008</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtstag = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.005</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtsmonat = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.002</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">geburtsjahr = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.004</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ort = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.04</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">plz = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.04</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">validate_fields</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">vorname = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^[A-Za-zäÄöÖüÜßáÁéÉèÈ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- ]*[A-Za-zäÄöÖüÜßáÁéÉèÈ]+[A-Za-zäÄöÖüÜßáÁéÉèÈ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- ]*$&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nachname = </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;^[A-Za-zäÄöÖüÜßáÁéÉèÈ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- ]*[A-Za-zäÄöÖüÜßáÁéÉèÈ]+[A-Za-zäÄöÖüÜßáÁéÉèÈ</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">- ]*$&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">validate_date</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">fields = [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;geburtstag&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;geburtsmonat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;geburtsjahr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">thresholds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">is_match = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">non_match = </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.95</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">exchange_groups</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exchange_group_0 = [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;vorname&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;nachname&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">exchange_group_1 = [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;geburtstag&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;geburtsjahr&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;geburtsmonat&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>The <code>config.toml</code> file supports the following settings:</p><table tabindex="0"><thead><tr><th><strong>Field</strong></th><th><strong>Description</strong></th></tr></thead><tbody><tr><td><strong>patient_settings</strong></td><td>Defines the data type of each field (<code>String</code> or <code>Integer</code>)</td></tr><tr><td><strong>matcher_frequency</strong></td><td>A real-valued parameter in the range <code>[0,1]</code> that specifies the relative frequency of values in the field <em>{fieldname}</em>. It corresponds to the <em>u-probability</em> in the Fellegi–Sunter model (Fellegi and Sunter, 1969). Typically, it is set as the reciprocal of the number of possible values the field can take (or observed in a sufficiently large dataset). <strong>Examples:</strong> Month → <code>1/12 ≈ 0.0833</code> and Day of the month → <code>1/30 ≈ 0.0333</code></td></tr><tr><td><strong>matcher_error_rate</strong></td><td>A real-valued parameter in the range <code>[0,1]</code> that specifies the assumed error rate for the field <em>{fieldname}</em>. This can be estimated from sufficiently large test datasets with known matching status. In practice, however, a uniform ad-hoc value across all fields (e.g., <code>0.05</code>) is often sufficient</td></tr><tr><td><strong>validate_fields</strong></td><td>A regular expression applied to specific string fields to verify their validity. For example, it can ensure that names do not contain numbers</td></tr><tr><td><strong>validate_date</strong></td><td>A list of fields that together define a complete date</td></tr><tr><td><strong>tresholds</strong></td><td>A value between [0,1] indicating the minimum weight for a record pair to count as a definitive match. To prevent failures in Flame, both <code>is_match</code> and <code>non_match</code> must be set identically</td></tr><tr><td><strong>exchange_groups</strong></td><td>A comma-separated list of field names that are treated as interchangeable. For the built-in matchers (<code>EpilinkMatcher</code>, <code>ThreadedEpilinkMatcher</code>), all possible permutations of the fields across two records are compared, and the permutation with the highest similarity contributes to the overall score</td></tr></tbody></table><h2 id="reference-code-excerpt" tabindex="-1">Reference Code (Excerpt) <a class="header-anchor" href="#reference-code-excerpt" aria-label="Permalink to &quot;Reference Code (Excerpt)&quot;">​</a></h2><p>The following excerpts highlight the key distributed computing patterns in <a href="/files/record_linkage_intersection.py" download>record_linkage.py</a>. The full file contains additional logic.</p><p>When executing the record linkage analysis in the FLAME platform, multiple iterations between the aggregator and analyzer nodes are required:</p><ul><li><strong>Initialization:</strong> The RLAnalyzer and RLAggregator are started.</li><li><strong>First iteration:</strong> The analyzer’s <code>analysis_method()</code> is called. Since configuration files from the aggregator are required before Bloom filter generation can begin, the <code>analysis_method()</code> returns <code>None</code>. The aggregator detects this (because <code>aggregator_results</code> are <code>None</code>) and responds with the configuration files in a dictionary under the key <code>&quot;config&quot;</code>.</li><li><strong>Second iteration:</strong> As <code>aggregator_results</code> are no longer <code>None</code> and contain the <code>&quot;config&quot;</code> key, the analyzer recognizes the second iteration, generates the Bloom filters, and returns them. The aggregator then checks the analysis results again. Because they are not <code>None</code>, it concludes that this is no longer the first iteration. Once the iterations are complete, the aggregator receives the string <code>&quot;finished&quot;</code>. At this point, since the <code>analysis_results</code> are neither <code>None</code> nor equal to <code>&quot;finished&quot;</code>, it moves into the <code>else</code> branch and performs the record linkage. It then sends the duplicate patient results back to the respective nodes.</li><li><strong>Final step:</strong> The analyzer nodes detect the final iteration because the <code>aggregator_results</code> are not <code>None</code> and do not contain the <code>&quot;config&quot;</code> key. They therefore move into their own <code>else</code> branch and store the information about duplicates for future use. Once the analysis is complete, the aggregator receives the string <code>&quot;finished&quot;</code> and finally returns the computed intersections to the hub, marking the end of the analysis.</li></ul><p>The <code>StarModel</code> configuration defines how data is distributed and processed across nodes:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">():</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # Configure StarModel for S3/MinIO objects. The dataset configuration in each node&#39;s hub</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # should point to the desired bucket; here we only specify the object keys.</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    StarModel(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        analyzer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RLAnalyzer,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        aggregator</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">RLAggregator,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        data_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;s3&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Distributed S3/MinIO data sources</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        simple_analysis</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Multi-iterative analysis</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">        output_type</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;str&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,        </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># JSON string result</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    )</span></span></code></pre></div><p>This setup enables each analyzer node to process its local data independently while using the same analysis logic. In the case of record linkage, the process is a mulit-iterative analysis, which is why <code>simple_analysis</code> is set to <code>False</code>.</p><h3 id="analyzer-node-processing" tabindex="-1">Analyzer Node Processing <a class="header-anchor" href="#analyzer-node-processing" aria-label="Permalink to &quot;Analyzer Node Processing&quot;">​</a></h3><p>Each analyzer node processes its local dataset and returns structured results. The <code>analysis_method()</code> receives a list of dictionaries where each dictionary maps S3 object keys to their actual file content (bytes):</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RLAnalyzer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StarAnalyzer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> add_patients</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, keep_keys, data, url, content_header, api_key):</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;&quot;&quot;Adds patients to the Mainzelliste and returns pseudonyms.&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_bytes </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> data[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">].values():</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            decoded </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> file_bytes.decode(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;utf-8&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            csv_reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> csv.DictReader(io.StringIO(decoded), </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">delimiter</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;;&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">        ...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> analysis_method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, data: List[Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]], aggregator_results: Any) -&gt; Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aggregator_results </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 0 Iteration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.flame_log(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0. Iteration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        elif</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;config&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aggregator_results[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 Iteration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            pseudonyms </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.add_patients(keep_keys, data, url, content_header, api_key)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            patients_sorted </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.get_bloomfilters(pseudonyms, url, content_header, api_key)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.get_id(): patients_sorted}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2 Iteration</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            duplicates </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> aggregator_results[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">][</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.get_id()]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.flame_log(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Save intermediate data...&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.save_intermediate_data(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">duplicates,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                location</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;local&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">                tag</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;record-linkage-results&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            )</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.cleanup(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.result)  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># End Mainzelliste + Postgres</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;finished&quot;</span></span></code></pre></div><p>The temporary file approach is necessary to start the mainzelliste with a file path, but FLAME provides S3 object content as in-memory data. Each analyzer processes only its local data but returns results in a standardized format for aggregation.</p><h3 id="secure-data-handling" tabindex="-1">Secure Data Handling <a class="header-anchor" href="#secure-data-handling" aria-label="Permalink to &quot;Secure Data Handling&quot;">​</a></h3><p>Files are processed in temporary locations without exposing sensitive content:</p><p>Error handling ensures that sensitive details from local processing don&#39;t leak across the federation.</p><p>Bloom filters, combined with a salt value, are used to protect patient data. They make the original information non-readable while still allowing secure record linkage across nodes.</p><h3 id="cross-node-aggregation" tabindex="-1">Cross-Node Aggregation <a class="header-anchor" href="#cross-node-aggregation" aria-label="Permalink to &quot;Cross-Node Aggregation&quot;">​</a></h3><p>The aggregator combines results from all analyzer nodes into a federated summary. Since <code>has_converged()</code> evaluates to <code>False</code> if the number of iterations is below 2, the <code>aggregation_method()</code> is executed up to three iterations (stages 0–2).</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> RLAggregator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">StarAggregator</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> aggregation_method</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, analysis_results: List[Dict[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Any]]) -&gt; </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">str</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> analysis_results[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">is</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 0 iteration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.flame_log(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;0 iteration&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.analyzer_config_dict}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        elif</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> analysis_results[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;finished&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2 iteration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.flame.flame_log(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;aggregator finishes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> self</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.hub_results</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1 iteration</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">            ...</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">                return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> node_results</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> has_converged</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(self, result, last_result, num_iterations):</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> num_iterations </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># iterative federation</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> True</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> False</span></span></code></pre></div><p>The aggregator receives structured data from each node and produces federation-wide statistics without accessing raw data files.</p><h2 id="output-structure" tabindex="-1">Output Structure <a class="header-anchor" href="#output-structure" aria-label="Permalink to &quot;Output Structure&quot;">​</a></h2><p>The final JSON result can be downloaded from the Hub.<br> The structure summarizes the number of matching records across nodes. For documentation purposes, placeholders are shown instead of the actual (longer) node IDs.</p><ul><li><strong>Example with two nodes</strong></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;node1-id:node2-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;total&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li><strong>Example with three nodes</strong></li></ul><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;node1-id:node2-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;node1-id:node3-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;node2-id:node3-id&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;total&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="see-also" tabindex="-1">See Also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See Also&quot;">​</a></h2><ul><li><a href="/guide/user/sdk-core-doc.html">Core SDK Reference</a></li><li><a href="/guide/user/analysis-coding.html">Coding an Analysis</a></li><li><a href="/guide/admin/bucket-setup-for-data-store.html">Admin: Bucket Setup</a></li><li><a href="/guide/admin/analysis-execution.html">Admin: Analysis Execution</a></li><li><a href="/guide/user/survival-regression.html">Survival Regression Example</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-39a288b8 data-v-e257564d><!--[--><!--]--><div class="edit-info" data-v-e257564d><div class="edit-link" data-v-e257564d><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/PrivateAim/documentation/edit/master/src/guide/user/record_linkage.md" target="_blank" rel="noreferrer" data-v-e257564d><!--[--><span class="vpi-square-pen edit-link-icon" data-v-e257564d></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/guide/user/federated-logistic-regression.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>Federated GLM</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/guide/user/vcf-qc.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Basic VCF QC</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5d98c3a5 data-v-e315a0ad><div class="container" data-v-e315a0ad><!----><p class="copyright" data-v-e315a0ad>Copyright © 2023-present PrivateAim Consortia</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"about_team.md\":\"CvNGZDlP\",\"getting-started_architecture.md\":\"pTWlfWRU\",\"getting-started_components.md\":\"lYK5Uzdr\",\"getting-started_glossar.md\":\"CbIwmzwR\",\"getting-started_guides.md\":\"B_u1JyZm\",\"getting-started_index.md\":\"biPx4QG6\",\"guide_admin_analysis-definition.md\":\"BWv-eTsj\",\"guide_admin_analysis-execution.md\":\"BNzIHC3y\",\"guide_admin_analysis-review.md\":\"DC07yXP1\",\"guide_admin_bucket-setup-for-data-store.md\":\"RIpjvUmn\",\"guide_admin_data-store-management.md\":\"D8RHbh_u\",\"guide_admin_identity-providers.md\":\"S-WSr0ph\",\"guide_admin_index.md\":\"DluKIJtk\",\"guide_admin_keycloak-access-control.md\":\"YGKpSKyC\",\"guide_admin_node-management.md\":\"CnVGf2sO\",\"guide_admin_permissions.md\":\"DKH92o2I\",\"guide_admin_project-review.md\":\"DI4mY2Ag\",\"guide_admin_realms.md\":\"BUg-6zby\",\"guide_admin_reviewing.md\":\"BGP7yhDu\",\"guide_admin_robots.md\":\"BRsqTvWP\",\"guide_admin_role-management.md\":\"CWpp7PBz\",\"guide_admin_roles.md\":\"CPy6A6jn\",\"guide_admin_users.md\":\"DbmzxtLX\",\"guide_deployment_central-app.md\":\"DaY-zvIH\",\"guide_deployment_central-harbor.md\":\"CybQgk9e\",\"guide_deployment_central-nginx.md\":\"C48wnE5d\",\"guide_deployment_hub-introduction.md\":\"BMFq6-yq\",\"guide_deployment_index.md\":\"DOIRvh1I\",\"guide_deployment_microk8s-quickstart.md\":\"gp_bLRpG\",\"guide_deployment_minikube-quickstart.md\":\"D_RdWmLK\",\"guide_deployment_node-installation.md\":\"E6xZQ3-I\",\"guide_deployment_node-registration.md\":\"DtIpB7OM\",\"guide_deployment_node-troubleshooting.md\":\"sEiO1qLP\",\"guide_user_analysis-coding.md\":\"0gN4CM0a\",\"guide_user_analysis.md\":\"OZOgJiek\",\"guide_user_cli-fastqc.md\":\"CUZECRtL\",\"guide_user_deep-learning-image-clasifier.md\":\"BjlXbI5K\",\"guide_user_federated-logistic-regression.md\":\"ByYjcw9B\",\"guide_user_fhir-query.md\":\"wHEZes8M\",\"guide_user_homomorphic-encryption.md\":\"B97f8Cmv\",\"guide_user_index.md\":\"DvyBh9FX\",\"guide_user_project.md\":\"BiS8yuPX\",\"guide_user_record_linkage.md\":\"CYworj3W\",\"guide_user_sdk-core-doc.md\":\"-qToehnd\",\"guide_user_survival-regression.md\":\"Dr4L57_v\",\"guide_user_vcf-qc.md\":\"BF-OeqIp\",\"index.md\":\"CcHbhpM4\",\"versions_v0.0.10.md\":\"BUWbtaao\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"PrivateAim\",\"description\":\"A VitePress site\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/PrivateAim\"},{\"icon\":\"discord\",\"link\":\"https://discord.gg/yCTX7ePnhb\"}],\"editLink\":{\"pattern\":\"https://github.com/PrivateAim/documentation/edit/master/src/:path\",\"text\":\"Edit this page on GitHub\"},\"logo\":{\"light\":\"/images/icon/icon_flame_dark.png\",\"dark\":\"/images/icon/icon_flame_light.png\"},\"siteTitle\":false,\"nav\":[{\"text\":\"Getting Started\",\"link\":\"/getting-started\",\"activeMatch\":\"/getting-started\"},{\"text\":\"Docs\",\"activeMatch\":\"/guide\",\"items\":[{\"text\":\"User\",\"link\":\"/guide/user\"},{\"text\":\"Admin\",\"link\":\"/guide/admin\"},{\"text\":\"Deployment\",\"link\":\"/guide/deployment\"}]},{\"text\":\"About\",\"activeMatch\":\"/about/\",\"items\":[{\"text\":\"Team\",\"link\":\"/about/team\"}]}],\"sidebar\":[{\"text\":\"Getting Started\",\"base\":\"/getting-started\",\"items\":[{\"text\":\"Introduction\",\"link\":\"/\"},{\"text\":\"Architecture\",\"link\":\"/architecture\"},{\"text\":\"Components\",\"link\":\"/components\"},{\"text\":\"Guides\",\"link\":\"/guides\"},{\"text\":\"Glossar\",\"link\":\"/glossar\"}]},{\"text\":\"User\",\"base\":\"/guide/user\",\"items\":[{\"text\":\"Quick Start\",\"link\":\"/\"},{\"text\":\"Python Core SDK\",\"link\":\"/sdk-core-doc\"},{\"text\":\"Concepts/Tutorials\",\"collapsed\":true,\"items\":[{\"text\":\"Examples\",\"collapsed\":true,\"items\":[{\"text\":\"Analysis Coding\",\"link\":\"/analysis-coding\"},{\"text\":\"Aggregation with fedstats\",\"link\":\"/survival-regression.md\"},{\"text\":\"Federated GLM\",\"link\":\"/federated-logistic-regression.md\"}]},{\"text\":\"PPRL\",\"link\":\"/record_linkage\"},{\"text\":\"Basic VCF QC\",\"link\":\"/vcf-qc\"},{\"text\":\"CLI Tools FastQC\",\"link\":\"/cli-fastqc\"},{\"text\":\"FHIR Queries\",\"link\":\"/fhir-query\"}]},{\"text\":\"Using the Hub\",\"collapsed\":true,\"items\":[{\"text\":\"Submitting a Project Proposal\",\"link\":\"/project\"},{\"text\":\"Starting an Analysis\",\"link\":\"/analysis\"}]}]},{\"text\":\"Admin\",\"base\":\"/guide/admin\",\"items\":[{\"text\":\"Quick Start\",\"link\":\"/\"},{\"text\":\"Reviewing\",\"link\":\"/reviewing\"},{\"text\":\"Hub\",\"collapsed\":true,\"items\":[{\"text\":\"Realms\",\"link\":\"/realms\"},{\"text\":\"Identity Providers\",\"link\":\"/identity-providers\"},{\"text\":\"Robots\",\"link\":\"/robots\"},{\"text\":\"Users\",\"link\":\"/users\"},{\"text\":\"Roles\",\"link\":\"/roles\"},{\"text\":\"Permissions\",\"link\":\"/permissions\"},{\"text\":\"Nodes\",\"link\":\"/node-management\"},{\"text\":\"Project Review\",\"link\":\"/project-review\"},{\"text\":\"Analysis Review\",\"link\":\"/analysis-review\"}]},{\"text\":\"Node\",\"collapsed\":true,\"items\":[{\"text\":\"Bucket Setup for Data Store\",\"link\":\"/bucket-setup-for-data-store\"},{\"text\":\"Data Store Management\",\"link\":\"/data-store-management\"},{\"text\":\"Analysis Execution\",\"link\":\"/analysis-execution\"},{\"text\":\"Keycloak & Access Control\",\"link\":\"/keycloak-access-control\"},{\"text\":\"Analysis Definition in k8s\",\"link\":\"/analysis-definition\"}]}]},{\"text\":\"Deployment\",\"base\":\"/guide/deployment\",\"items\":[{\"text\":\"Registering in the Hub\",\"link\":\"/node-registration\"},{\"text\":\"Installing k8s\",\"collapsed\":true,\"items\":[{\"text\":\"microk8s\",\"link\":\"/microk8s-quickstart\"},{\"text\":\"minikube\",\"link\":\"/minikube-quickstart\"}]},{\"text\":\"FLAME Node Deployment\",\"link\":\"/node-installation\"}]},{\"text\":\"Versions\",\"base\":\"/versions\",\"items\":[{\"text\":\"0.0.10\",\"link\":\"/v0.0.10\"}]}],\"footer\":{\"copyright\":\"Copyright © 2023-present PrivateAim Consortia\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>